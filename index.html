<!DOCTYPE html>
<html>
<head>
	<title>傳產設備工業 4.0</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
	<script src="https://code.jquery.com/jquery-3.3.0.min.js" integrity="sha256-RTQy8VOmNlT6b2PIRur37p6JEBZUE7o8wPgMvu18MC4=" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
	<link rel="stylesheet" type="text/css" href="./css/style.css?=20191006">
	<META HTTP-EQUIV="EXPIRES" CONTENT="0">
	<META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">
</head>
<body>
	<div class="container-fluid">
		<div class="row">
			<img src="img/Web/Landing.jpg" class="img-fluid" alt="Landing image">
		</div>
		<div class="row sw-tag-back justify-content-md-center">
			<div class="col-xs-auto text-center"> 
				<div class="px-5 sw-tag sw-tagI" list="listI">Introduction</div>
			</div>
			<div class="col-xs-auto text-center"> 
				<div class="px-5 sw-tag sw-tagT" list="listT">Thinger.io</div>
			</div>
			<div class="col-xs-auto text-center">
				<div class="px-5 sw-tag sw-tagS" list="listS">Sensors</div>
			</div>
			<div class="col-xs-auto text-center">
				<div class="px-5 sw-tag sw-tagP" list="listP">Protocol</div>
			</div>
		</div>
	</div>
	<div class="container">
		<div class="row">
			<!--左側-->
			<div class="col col-12 col-xl-2 col-md-3 L-side bg-white" style="z-index: 10">
				<div class="menu card">
  					<div class="menu card-header text-center" data-toggle="collapse" data-target="#navbar" aria-expanded="true" style="cursor: pointer;">
  						Menu
  					</div>
					<div class="collapse show" id="navbar">
						<div>
							<nav class="nav flex-column">
  								<a class="nav-link" href="#">Link</a>
							</nav>
						</div>
						<div id="ex_nav">
							<hr>
							<div style="padding: 0px 0.5rem;"><h5>Chapters</h5></div>
							<ul>
							</ul>
						</div>
					</div>
				</div>
			</div>
			<!--右側-->
			<div class="col col-12 col-xl-10 col-md-9 R-side mt-4 px-5">
				<div id="#result">
					
				</div>
			</div>
		</div>
	<footer>
		<hr/>
		<div class="ft-head">Contact us</div>
		<div class="ft-body">
			<div class="ft-class">
				<div>[Web Page & Thinger.io]</div>
				<div><a href="mailto:gtrx8fd3ds@gmail.com">gtrx8fd3ds@gmail.com</a></div>
			</div>
			<div class="ft-class">
				<div>[Protocol & Sensor pages]</div>
				<div><a href="mailto:1105105221@nkust.edu.tw">1105105221@nkust.edu.tw</a></div>
			</div>
		</div>
	</footer>
	</div>
	<script type="text/javascript">
		//右側行為初始化
		function RsideInit() {
			$('.R-side a[internal]').attr('onclick', 'return false;').click(function(){
				var href = $(this).attr('href');
				if (href!="#")
					window.sessionStorage.setItem('page',href);
				$('.R-side').empty().load(href,function(resp,stat){
					if (stat == "success") {
						RsideInit();
						$('#navbar>div>nav>a').removeClass('nav-active');
						$('#navbar>div>nav>a[href=\'' + href + '\']').addClass('nav-active');
						$('html').animate({scrollTop:$('.sw-tag-back').first().offset().top},1000);
					}
				});
			})
		}
		function loadList(list){
			//清空nav並載入列表
			$('#navbar>div>nav').empty().load('ajax/' + list + '.html?_=' + $.now(),function(response,status){
				if (status == "success") {
					//關閉列表跳轉
					$('#navbar>div>nav>a').attr('onclick', 'return false;').click(function(){
						//右側刷新&左側字重
						var href = $(this).attr('href');
						if (href!="#") {
							$('.R-side').empty().load(href + '?_=' + $.now(),function(resp,stat){
								if (stat == "success") {
									ex_nav();
									window.sessionStorage.setItem('page',href);
									RsideInit();
									$('html').animate({scrollTop:$('.sw-tag-back').first().offset().top},1000);
								}
							});
							//字重
							$('#navbar>div>nav>a').not(this).removeClass('nav-active');
							$(this).addClass('nav-active');
							$('#navbar').addClass('show');
							if ($("html").width() < 768) {
								$('#navbar').collapse("hide");
							}
						} else {
							$('html').animate({scrollTop:$('.sw-tag-back').first().offset().top},1000);
						}
					});
					var href = window.sessionStorage.getItem('page');
					if (href) {
						$('#navbar>div>nav>a[href="' + href + '"]').trigger('click');
					} else {
						$('#navbar>div>nav>a').first().trigger('click');
					}
					
				}
			});
		}
		//上方導覽列與session的紀錄初始化
		function sw_init() {
			var sw_tag = window.sessionStorage.getItem('sw_tag');
			if (sw_tag) {
				$('.sw-tag[list=' + sw_tag + ']').addClass('active');
				loadList(sw_tag);
			} else {
				$('.sw-tag').first().addClass('active');
				loadList("listI");
			}
			$('.sw-tag').click(function(){
				$('.sw-tag').removeClass('active');
				window.sessionStorage.setItem('sw_tag', $(this).attr('list'));
				loadList(window.sessionStorage.getItem('sw_tag'));
				window.sessionStorage.removeItem('page');
				$(this).addClass('active');
			})
			$('#navbar').collapse();
		}
		//捲動function
		function scrollToId(pID) {
			$('html, body').animate({scrollTop:$('#' + pID).offset().top},1000);
		}
		//自動產生頁面導覽
		function ex_nav() {
			//含有ex_mav屬性的元素都是會顯示的
			var hds = $("[ex_nav]");
			$("#ex_nav>ul").empty();
			hds.each(function(){
				focus_item = $(this);
				//console.log(focus_item.text());
				$("#ex_nav>ul").append("<li><a href=\"#" + focus_item.attr("id") + "\" onclick=\"scrollToId('" + focus_item.attr("id") + "'); return(false);\">" + focus_item.text() + "</a></li>");
			})
		}

		$(document).ready(function(){
			sw_init();
		})
	</script>
</body>
</html>